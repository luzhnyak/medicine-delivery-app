import{r as b,u as y,c as N,j as e,e as u,f as $,M as g}from"./index-Bc0sp-Bu.js";import{s as v,b as S}from"./selectors-CUuJO7hx.js";import{F as c}from"./Form-_xODbCa3.js";import{B as H}from"./Col-B8X-5cjH.js";const O=b.forwardRef(({bsPrefix:a,className:r,striped:i,bordered:o,borderless:x,hover:h,size:l,variant:s,responsive:n,...d},p)=>{const t=y(a,"table"),f=N(r,t,s&&`${t}-${s}`,l&&`${t}-${l}`,i&&`${t}-${typeof i=="string"?`striped-${i}`:"striped"}`,o&&`${t}-bordered`,x&&`${t}-borderless`,h&&`${t}-hover`),j=e.jsx("table",{...d,className:f,ref:p});if(n){let m=`${t}-responsive`;return typeof n=="string"&&(m=`${m}-${n}`),e.jsx("div",{className:m,children:j})}return j}),P=O,A=({order:a})=>e.jsxs(P,{striped:!0,bordered:!0,hover:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Price (UAH)"}),e.jsx("th",{children:"Sum (UAH)"})]})}),e.jsx("tbody",{children:a.orderProducts.map(r=>e.jsxs("tr",{children:[e.jsx("td",{children:r.product_id}),e.jsx("td",{children:r.name}),e.jsx("td",{className:"text-end",children:r.quantity}),e.jsx("td",{className:"text-end",children:r.price.toFixed(2)}),e.jsx("td",{className:"text-end",children:(r.price*r.quantity).toFixed(2)})]},r.id))})]}),B=()=>{const[a,r]=b.useState(""),i=u(v),o=u(S),x=$(),h=async s=>{s.preventDefault(),await x(g(a))},l=s=>s.orderProducts.reduce((n,d)=>n+d.quantity*d.price,0);return e.jsxs("section",{className:"border p-3",children:[e.jsx("h2",{children:"History"}),e.jsxs(c,{onSubmit:h,children:[e.jsxs(c.Group,{className:"mb-3",controlId:"formBasicName",children:[e.jsx(c.Label,{children:"Email"}),e.jsx(c.Control,{type:"email",placeholder:"Enter email for search orders",onChange:s=>r(s.target.value),required:!0,value:a})]}),e.jsx(H,{className:"d-block ms-auto",variant:"primary",type:"submit",disabled:i,children:"Submit"})]}),o.map(s=>e.jsxs("div",{children:[e.jsx("hr",{}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex gap-4 w-100",children:[e.jsxs("p",{children:[e.jsx("b",{children:"Order â„–: "}),s.id,", ",e.jsx("b",{children:"Customer: "})," ",s.name," "]}),e.jsxs("p",{className:"ms-auto",children:[e.jsx("b",{children:"Created:"})," ",new Date(s.createdAt||"").toLocaleString()]})]}),e.jsx(A,{order:s}),e.jsxs("p",{className:"ms-auto",children:[e.jsx("b",{children:"Total sum:"})," ",l(s).toFixed(2)," UAH"]})]},s.id))]})},q=()=>e.jsx("main",{children:e.jsx(B,{})});export{q as default};
